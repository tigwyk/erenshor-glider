## Codebase Patterns
- Erenshor is a Unity game using BepInEx 5.x (Mono) for modding
- Use Harmony patches to hook into game methods (Prefix/Postfix)
- GameData singleton is the central access point for all game state
- GameData.PlayerControl.transform.position for player coordinates
- GameData.PlayerControl.Myself for player Character reference
- GameData.PlayerControl.CurrentTarget for current target
- Character.MyStats for health/mana/stats access
- Use BepInEx.Configuration for mod settings
- Target .NET Framework 4.7.2 or .NET Standard 2.0
- Build with `dotnet build` in project root (requires .NET SDK 8.0+)
- Plugin entry point is Plugin.cs with [BepInPlugin] attribute

---

## 2026-02-05 - US-001
- What was implemented:
  - Researched Erenshor's technical architecture
  - Documented Unity engine and BepInEx modding framework
  - Identified key game classes: GameData, Character, PlayerCombat, Hotkeys, Spell, Skill
  - Documented methods for reading game state (position, health, target, combat)
  - Documented methods for sending inputs (auto-attack, abilities, movement)
  - Listed all 6 character classes
- Files changed:
  - docs/technical-integration.md (created)
  - prd.json (committed with project)
- **Learnings for future iterations:**
  - Existing mods on GitHub (ErenshorQoL, ExtendedHotbars) are excellent references for API usage
  - GameData is a static singleton - most game state is accessed through it
  - CharacterStats likely has CurrentHP, MaxHP, CurrentMP, MaxMP properties (needs verification)
  - Private methods like Hotkeys.DoHotkeyTask() need reflection to call
  - Movement input simulation may be needed vs direct position manipulation
  - NPC.AggroOn() can be hooked to detect when player is attacked
  - Character.DoDeath() can be hooked to detect deaths
---

## 2026-02-05 - US-002
- What was implemented:
  - Created C# BepInEx 5.x plugin project structure
  - Set up ErenshorGlider.sln and ErenshorGlider.csproj with proper dependencies
  - Configured BepInEx.Core and UnityEngine.Modules NuGet packages
  - Added Plugin.cs with BepInPlugin attribute and basic initialization
  - Added PluginInfo.cs with plugin metadata constants
  - Created folder structure: src/ErenshorGlider/, profiles/, waypoints/
  - Added .editorconfig for C# code style consistency
  - Added .gitignore for build artifacts
  - Added Directory.Build.props for shared build configuration
  - Created README.md with setup and build instructions
- Files changed:
  - ErenshorGlider.sln (created)
  - src/ErenshorGlider/ErenshorGlider.csproj (created)
  - src/ErenshorGlider/Plugin.cs (created)
  - src/ErenshorGlider/PluginInfo.cs (created)
  - .editorconfig (created)
  - .gitignore (created)
  - Directory.Build.props (created)
  - README.md (created)
  - profiles/.gitkeep (created)
  - waypoints/.gitkeep (created)
- **Learnings for future iterations:**
  - Project uses SDK-style csproj with .NET Framework 4.7.2 target
  - BepInEx.Core 5.x and BepInEx.Analyzers packages provide base plugin functionality
  - UnityEngine.Modules 2022.3.20 provides Unity types (may need adjustment if Erenshor uses older Unity)
  - BepInEx.PluginInfoProps enables automatic plugin metadata generation
  - Plugin.cs inherits from BaseUnityPlugin which is a MonoBehaviour
  - Logger is accessible via base.Logger in Awake()
  - Build command: `dotnet build` (requires .NET SDK 8.0+)
---
